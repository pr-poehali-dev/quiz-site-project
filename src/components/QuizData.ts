// QuizData.ts
type QuizQuestion = {
  id: number;
  text: string;
  options: string[];
  correctAnswer: number;
};

export const quizQuestions: QuizQuestion[] = [
  {
    id: 1,
    text: "Как сотрудник должен выглядеть при встрече с гостем?",
    options: [
      "Любая одежда, главное профессионализм",
      "Строго в униформе с логотипом",
      "Опрятно, с прямой спиной и улыбкой",
      "В строгом деловом костюме"
    ],
    correctAnswer: 2
  },
  {
    id: 2,
    text: "Как правильно входить в комнату гостя?",
    options: [
      "Войти с ключом, не предупреждая",
      "Постучать 3 раза, назвать должность и цель визита",
      "Позвонить гостю по телефону заранее",
      "Громко спросить разрешения войти"
    ],
    correctAnswer: 1
  },
  {
    id: 3,
    text: "Что делать с мелкими забытыми вещами гостей?",
    options: [
      "Выбросить сразу",
      "Хранить у себя до востребования",
      "Отнести в бюро находок",
      "Зафиксировать в журнале забытых вещей"
    ],
    correctAnswer: 3
  },
  {
    id: 4,
    text: "Какой срок хранения забытых вещей установлен стандартами?",
    options: [
      "7 дней",
      "14 дней",
      "30 дней",
      "90 дней"
    ],
    correctAnswer: 2
  },
  {
    id: 5,
    text: "Что необходимо сделать при приемке и выдаче белья?",
    options: [
      "Только записать факт выдачи",
      "Проверить комплектацию, зафиксировать в журнале и получить подпись проживающего",
      "Выдать любой комплект без проверки",
      "Отметить только количество комплектов"
    ],
    correctAnswer: 1
  },
  {
    id: 6,
    text: "За сколько гудков должен быть принят телефонный звонок?",
    options: [
      "За 1 гудок",
      "За 2 гудка",
      "За 3 гудка",
      "За 5 гудков"
    ],
    correctAnswer: 2
  },
  {
    id: 7,
    text: "Что делать, если гость не отвечает после стука в дверь?",
    options: [
      "Уйти и вернуться позже",
      "Использовать мастер-ключ и войти",
      "Приоткрыть дверь и предложить вернуться позже",
      "Громко позвать гостя"
    ],
    correctAnswer: 2
  },
  {
    id: 8,
    text: "Как долго можно держать звонящего в режиме ожидания?",
    options: [
      "Не более 10 секунд",
      "Не более 30 секунд",
      "Не более 1 минуты",
      "Не более 2 минут"
    ],
    correctAnswer: 1
  },
  {
    id: 9,
    text: "Что запрещено делать во время телефонного разговора с гостем?",
    options: [
      "Улыбаться",
      "Записывать информацию",
      "Жевать, зевать, пить",
      "Использовать официальные обращения"
    ],
    correctAnswer: 2
  },
  {
    id: 10,
    text: "Кто обеспечивает доступ в комнату работникам технических служб?",
    options: [
      "Дежурный администратор",
      "Сам технический работник",
      "Горничные по указанию заведующего общежитием",
      "Служба безопасности"
    ],
    correctAnswer: 2
  },
  {
    id: 11,
    text: "Что делать с подозрительными забытыми вещами?",
    options: [
      "Выбросить немедленно",
      "Передать в управление режима",
      "Хранить в стандартном порядке",
      "Оставить на месте обнаружения"
    ],
    correctAnswer: 1
  },
  {
    id: 12,
    text: "За какое время формируется первое впечатление о сотруднике?",
    options: [
      "За 30 секунд",
      "За 7 секунд",
      "За 1 минуту",
      "За 15 секунд"
    ],
    correctAnswer: 1
  },
  {
    id: 13,
    text: "Что является обязательным элементом первого впечатления?",
    options: [
      "Строгий деловой костюм",
      "Улыбка и зрительный контакт",
      "Формальное обращение",
      "Долгое приветствие"
    ],
    correctAnswer: 1
  },
  {
    id: 14,
    text: "Как правильно обращаться к гостю согласно стандартам?",
    options: [
      "Только по фамилии",
      "По имени",
      "По номеру комнаты",
      "Используя формальные титулы"
    ],
    correctAnswer: 1
  },
  {
    id: 15,
    text: "Что из перечисленного является обязательным элементом внешнего вида сотрудника?",
    options: [
      "Чистая униформа и бейдж",
      "Яркий макияж",
      "Модные аксессуары",
      "Телефон на рабочем месте"
    ],
    correctAnswer: 0
  },
  {
    id: 16,
    text: "Что недопустимо в стандартах внешнего вида сотрудника?",
    options: [
      "Аккуратная прическа",
      "Наличие бейджа",
      "Телефон на виду у гостей",
      "Чистая униформа"
    ],
    correctAnswer: 2
  },
  {
    id: 17,
    text: "Что такое клиентоцентричность?",
    options: [
      "Строгое следование всем стандартам",
      "Фокус на потребностях гостя, а не на стандартах",
      "Минимизация времени обслуживания",
      "Сокращение расходов на обслуживание"
    ],
    correctAnswer: 1
  },
  {
    id: 18,
    text: "Почему важна клиентоцентричность?",
    options: [
      "Снижает нагрузку на персонал",
      "Упрощает соблюдение стандартов",
      "Повышает лояльность гостей",
      "Сокращает время обслуживания"
    ],
    correctAnswer: 2
  },
  {
    id: 19,
    text: "Какое качество отличает клиентоцентричного сотрудника?",
    options: [
      "Строгое соблюдение инструкций",
      "Готовность выйти за рамки инструкций ради потребностей гостя",
      "Быстрое обслуживание максимального количества гостей",
      "Минимизация общения с гостями"
    ],
    correctAnswer: 1
  },
  {
    id: 20,
    text: "Что делает клиентоцентричный сотрудник?",
    options: [
      "Ждет жалоб для их решения",
      "Предугадывает желания гостей",
      "Строго придерживается рабочего графика",
      "Минимизирует дополнительные услуги"
    ],
    correctAnswer: 1
  }
];

export function getQuizResults(userAnswers: number[], userName: string) {
  let correctCount = 0;
  
  // Подсчет правильных ответов
  quizQuestions.forEach((question, index) => {
    if (userAnswers[index] === question.correctAnswer) {
      correctCount++;
    }
  });
  
  // Расчет процента правильных ответов
  const totalQuestions = quizQuestions.length;
  const answeredQuestions = userAnswers.filter(a => a !== undefined).length;
  const score = Math.round((correctCount / totalQuestions) * 100);
  
  // Определение сообщения в зависимости от результата
  let message = "";
  
  if (score >= 90) {
    message = `Отличный результат, ${userName}! Вы отлично знаете стандарты обслуживания.`;
  } else if (score >= 70) {
    message = `Хороший результат, ${userName}. Вы хорошо знаете стандарты, но есть небольшие пробелы.`;
  } else if (score >= 50) {
    message = `${userName}, вы знаете основы стандартов обслуживания, но требуется дополнительное обучение.`;
  } else {
    message = `${userName}, рекомендуем вам пройти повторное обучение по стандартам обслуживания.`;
  }
  
  return {
    score,
    correctCount,
    totalQuestions,
    message,
    userName
  };
}
